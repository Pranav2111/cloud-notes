{"ast":null,"code":"import _defineProperty from\"/Users/pranavpatil/Cloud Notes/cloudnotes/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/pranavpatil/Cloud Notes/cloudnotes/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/pranavpatil/Cloud Notes/cloudnotes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import noteConext from\"../context/notes/NoteContext\";import React,{useContext,useEffect,useRef,useState}from'react';import Note from\"./Note\";import AddNotes from\"./AddNotes\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var navigate=useNavigate();var context=useContext(noteConext);var notes=context.notes,getnotes=context.getnotes,editnote=context.editnote;useEffect(function(){if(localStorage.getItem('tocken')){console.log(localStorage.getItem('tocken'));getnotes();}else{navigate('/login');}// eslint-disable-next-line \n},[]);var ref=useRef(null);var closeref=useRef(null);var updatenote=function updatenote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,[e.target.value])));// console.log(note);\n};var handleAddClick=function handleAddClick(e){e.preventDefault();editnote(note.id.toString(),note.etitle.toString(),note.edescription.toString(),note.etag.toString());getnotes();closeref.current.click();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Update Your Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\",ref:closeref})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label h4\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label h4\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label h4\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",placeholder:\"G-General | P-High Priority | O-Other\",value:note.etag,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleAddClick,children:\"Update\"})]})})})]})})}),/*#__PURE__*/_jsx(AddNotes,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"px-2\",children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-danger px-2\",children:\"\\u25C9 : Priority\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary px-2\",children:\"\\u25C9 : General\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning px-2\",children:\"\\u25C9 : Other\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row my-3\",children:notes.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,updatenote:updatenote},note._id);})})]});};export default Main;","map":{"version":3,"sources":["/Users/pranavpatil/Cloud Notes/cloudnotes/src/components/Main.js"],"names":["noteConext","React","useContext","useEffect","useRef","useState","Note","AddNotes","useNavigate","Main","id","etitle","edescription","etag","note","setNote","navigate","context","notes","getnotes","editnote","localStorage","getItem","console","log","ref","closeref","updatenote","currentNote","current","click","_id","title","description","tag","onChange","e","target","name","value","handleAddClick","preventDefault","toString","map"],"mappings":"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","sourcesContent":["import noteConext from \"../context/notes/NoteContext\"\nimport React, { useContext, useEffect, useRef, useState } from 'react'\nimport Note from \"./Note\";\nimport AddNotes from \"./AddNotes\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst Main = () => {\n\n  const [note, setNote] = useState({ id:\"\",etitle: \"\", edescription: \"\", etag: \"\" });\n  const navigate = useNavigate();\n  const context = useContext(noteConext);\n  const { notes, getnotes, editnote } = context;\n\n  useEffect(() => {\n\n    if(localStorage.getItem('tocken'))\n    {\n      console.log(localStorage.getItem('tocken'));\n      getnotes();\n    }\n    else\n    {\n      navigate('/login');\n    }\n    // eslint-disable-next-line \n  }, [])\n\n\n  const ref = useRef(null);\n  const closeref = useRef(null);\n\n  const updatenote = (currentNote) => {\n    ref.current.click();\n    setNote({ id:currentNote._id,etitle: currentNote.title, edescription: currentNote.description, etag:currentNote.tag });\n  };\n\n\n\n  const onChange = (e) => {\n\n    setNote({ ...note, [e.target.name]: [e.target.value] });\n    // console.log(note);\n  }\n\n  const handleAddClick = (e) => {\n\n    e.preventDefault();\n    editnote(note.id.toString(),note.etitle.toString(), note.edescription.toString(), note.etag.toString());\n    getnotes();\n    closeref.current.click();\n  }\n\n\n  return (\n\n    <>\n\n\n      <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n        Launch modal\n      </button>\n\n\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">Update Your Note</h5>\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" ref={closeref}></button>\n            </div>\n            <div className=\"modal-body\">\n              <div>\n                <form>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label h4\">Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name='etitle' value={note.etitle} onChange={onChange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"description\" className=\"form-label h4\">Description</label>\n                    <textarea type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"tag\" className=\"form-label h4\">Tag</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" placeholder=\"G-General | P-High Priority | O-Other\" value={note.etag} onChange={onChange} />\n                  </div>\n                  <button type=\"submit\" className=\"btn btn-primary\" onClick={handleAddClick}>Update</button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <AddNotes />\n      <div className=\"d-flex\"><h4 className=\"px-2\">Your Notes</h4><h4 className=\"text-danger px-2\">&#9673; : Priority</h4><h4 className=\"text-primary px-2\">&#9673; : General</h4><h4 className=\"text-warning px-2\">&#9673; : Other</h4></div>\n      <div className=\"row my-3\">\n\n        {notes.map((note) => {\n\n          return <Note key={note._id} note={note} updatenote={updatenote} />\n\n        })}\n      </div>\n    </>\n  )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}