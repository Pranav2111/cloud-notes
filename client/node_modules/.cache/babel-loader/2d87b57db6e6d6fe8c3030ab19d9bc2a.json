{"ast":null,"code":"import _defineProperty from\"/Users/pranavpatil/Cloud Notes/cloudnotes/backend/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/pranavpatil/Cloud Notes/cloudnotes/backend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/pranavpatil/Cloud Notes/cloudnotes/backend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import noteConext from\"../context/notes/NoteContext\";import React,{useContext,useEffect,useRef,useState}from'react';import Note from\"./Note\";import AddNotes from\"./AddNotes\";import{useNavigate}from\"react-router-dom\";import'./css/main.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),readmorecontent=_useState4[0],setReadmorecontent=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),titlecontent=_useState6[0],setTitlecontent=_useState6[1];var navigate=useNavigate();var context=useContext(noteConext);var notes=context.notes,getnotes=context.getnotes,editnote=context.editnote;useEffect(function(){if(localStorage.getItem('tocken')){console.log(localStorage.getItem('tocken'));getnotes();}else{navigate('/login');}// eslint-disable-next-line \n},[]);var ref=useRef(null);var closeref=useRef(null);var readref=useRef(null);var updatenote=function updatenote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var readmore=function readmore(e){readref.current.click();};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,[e.target.value])));// console.log(note);\n};var handleAddClick=function handleAddClick(e){e.preventDefault();editnote(note.id.toString(),note.etitle.toString(),note.edescription.toString(),note.etag.toString());getnotes();closeref.current.click();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Update Your Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\",ref:closeref})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label h4\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label h4\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label h4\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",placeholder:\"G-General | P-High Priority | O-Other\",value:note.etag,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleAddClick,children:\"Update\"})]})})})]})})}),/*#__PURE__*/_jsx(\"button\",{ref:readref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#second\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"second\",tabIndex:\"-1\",\"aria-labelledby\":\"second\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:titlecontent}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body textwrap\",children:/*#__PURE__*/_jsx(\"p\",{children:readmorecontent.toString()})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})})]})})}),/*#__PURE__*/_jsx(AddNotes,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"px-2\",children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-danger px-2\",children:\"\\u25C9 : Priority\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary px-2\",children:\"\\u25C9 : General\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning px-2\",children:\"\\u25C9 : Other\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row my-3\",children:notes.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note,updatenote:updatenote,readmore:readmore,setReadmorecontent:setReadmorecontent,setTitlecontent:setTitlecontent},note._id);})})]});};export default Main;","map":{"version":3,"sources":["/Users/pranavpatil/Cloud Notes/cloudnotes/backend/client/src/components/Main.js"],"names":["noteConext","React","useContext","useEffect","useRef","useState","Note","AddNotes","useNavigate","Main","id","etitle","edescription","etag","note","setNote","readmorecontent","setReadmorecontent","titlecontent","setTitlecontent","navigate","context","notes","getnotes","editnote","localStorage","getItem","console","log","ref","closeref","readref","updatenote","currentNote","current","click","_id","title","description","tag","readmore","e","onChange","target","name","value","handleAddClick","preventDefault","toString","map"],"mappings":"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","sourcesContent":["import noteConext from \"../context/notes/NoteContext\"\nimport React, { useContext, useEffect, useRef, useState } from 'react'\nimport Note from \"./Note\";\nimport AddNotes from \"./AddNotes\";\nimport { useNavigate } from \"react-router-dom\";\nimport './css/main.css'\n\nconst Main = () => {\n\n  const [note, setNote] = useState({ id: \"\", etitle: \"\", edescription: \"\", etag: \"\" });\n  const [readmorecontent, setReadmorecontent] = useState(\"\")\n  const [titlecontent, setTitlecontent] = useState(\"\")\n  const navigate = useNavigate();\n  const context = useContext(noteConext);\n  const { notes, getnotes, editnote } = context;\n\n  useEffect(() => {\n\n    if (localStorage.getItem('tocken')) {\n      console.log(localStorage.getItem('tocken'));\n      getnotes();\n    }\n    else {\n      navigate('/login');\n    }\n    // eslint-disable-next-line \n  }, [])\n\n\n  const ref = useRef(null);\n  const closeref = useRef(null);\n\n  const readref = useRef(null);\n\n  const updatenote = (currentNote) => {\n    ref.current.click();\n    setNote({ id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag });\n  };\n\n  const readmore = (e)=>{\n    readref.current.click();\n  }\n\n\n  const onChange = (e) => {\n\n    setNote({ ...note, [e.target.name]: [e.target.value] });\n    // console.log(note);\n  }\n\n  const handleAddClick = (e) => {\n\n    e.preventDefault();\n    editnote(note.id.toString(), note.etitle.toString(), note.edescription.toString(), note.etag.toString());\n    getnotes();\n    closeref.current.click();\n  }\n\n\n  return (\n\n    <>\n\n\n      <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n        Launch modal\n      </button>\n\n\n      <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">Update Your Note</h5>\n              <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" ref={closeref}></button>\n            </div>\n            <div className=\"modal-body\">\n              <div>\n                <form>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label h4\">Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name='etitle' value={note.etitle} onChange={onChange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"description\" className=\"form-label h4\">Description</label>\n                    <textarea type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} />\n                  </div>\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"tag\" className=\"form-label h4\">Tag</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" placeholder=\"G-General | P-High Priority | O-Other\" value={note.etag} onChange={onChange} />\n                  </div>\n                  <button type=\"submit\" className=\"btn btn-primary\" onClick={handleAddClick}>Update</button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n\n\n\n\n      <button ref={readref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#second\">\n        Launch demo modal\n      </button>\n\n\n      <div className=\"modal fade\" id=\"second\" tabIndex=\"-1\" aria-labelledby=\"second\" aria-hidden=\"true\">\n      <div className=\"modal-dialog\">\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h5 className=\"modal-title\">{titlecontent}</h5>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div className=\"modal-body textwrap\">\n        <p>{readmorecontent.toString()}</p>\n      </div>\n      <div className=\"modal-footer\">\n        <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n      </div>\n    </div>\n  </div>\n\n      </div>\n\n\n\n\n\n\n\n      <AddNotes />\n      <div className=\"d-flex\"><h4 className=\"px-2\">Your Notes</h4><h4 className=\"text-danger px-2\">&#9673; : Priority</h4><h4 className=\"text-primary px-2\">&#9673; : General</h4><h4 className=\"text-warning px-2\">&#9673; : Other</h4></div>\n      <div className=\"row my-3\">\n\n        {notes.map((note) => {\n\n          return <Note key={note._id} note={note} updatenote={updatenote} readmore={readmore} setReadmorecontent={setReadmorecontent} setTitlecontent={setTitlecontent}/>\n\n        })}\n      </div>\n    </>\n  )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}